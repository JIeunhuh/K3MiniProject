{"ast":null,"code":"var _jsxFileName = \"C:\\\\MiniProject\\\\project_front\\\\my_mini_project\\\\src\\\\project\\\\Search_RestaurantLists\\\\SearchList.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport style from '../Food.module.css';\nimport FoodInfo from './FoodInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchList = ({\n  searchRes\n}) => {\n  _s();\n  const itemsPerPage = 10;\n  const pagesPerGroup = 5; // 한 그룹에 보여줄 페이지 수\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\n  const [rvLists, setRvLists] = useState([]);\n  const totalItems = searchRes.length;\n  const totalGroups = Math.ceil(totalItems / (itemsPerPage * pagesPerGroup));\n  const currentGroup = Math.ceil(currentPage / pagesPerGroup);\n  const startPage = (currentGroup - 1) * pagesPerGroup + 1;\n  const endPage = Math.min(startPage + pagesPerGroup - 1, totalGroups * pagesPerGroup);\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = searchRes.slice(indexOfFirstItem, indexOfLastItem);\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n  let foodTags = [];\n  currentItems.map((result, idx) => {\n    foodTags.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n      onClick: () => handleRestaurantClick(result),\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: result.rname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: result.food\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: result.city + ' ' + result.city_gu + ' ' + result.city_dong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this));\n  });\n  const handleRestaurantClick = restaurant => {\n    setSelectedRestaurant(restaurant);\n    let url = 'http://10.125.121.176:8080/getReviewList/';\n    url = url + restaurant.id;\n    fetch(url).then(resp => resp.json()).then(data => setRvLists(data)).catch(err => console.log(err));\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.info}`,\n    children: [currentItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" \\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 42\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1px solid\",\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Restaurant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Food\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), foodTags]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), searchRes.length > itemsPerPage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${style.pagination}`,\n      children: [startPage > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginate(1),\n          className: `${style.pageLink}`,\n          children: \"\\uCC98\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginate(startPage - 1),\n          className: `${style.pageLink}`,\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true), Array.from({\n        length: endPage - startPage + 1\n      }, (_, i) => i + startPage).map(number => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => paginate(number),\n        className: `${style.pageLink} ${currentPage === number ? style.active : ''}`,\n        children: number\n      }, number, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }, this)), endPage < totalGroups * pagesPerGroup && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginate(endPage + 1),\n          className: `${style.pageLink}`,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => paginate(totalGroups * pagesPerGroup),\n          className: `${style.pageLink}`,\n          children: \"\\uB05D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FoodInfo, {\n      isOpen: showModal,\n      onClose: closeModal,\n      restaurant: selectedRestaurant,\n      rvLists: rvLists\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchList, \"EJKE8NFjEx7VJHcqeYoLVg3wLAQ=\");\n_c = SearchList;\nexport default SearchList;\nvar _c;\n$RefreshReg$(_c, \"SearchList\");","map":{"version":3,"names":["useState","style","FoodInfo","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchList","searchRes","_s","itemsPerPage","pagesPerGroup","currentPage","setCurrentPage","showModal","setShowModal","selectedRestaurant","setSelectedRestaurant","rvLists","setRvLists","totalItems","length","totalGroups","Math","ceil","currentGroup","startPage","endPage","min","indexOfLastItem","indexOfFirstItem","currentItems","slice","paginate","pageNumber","foodTags","map","result","idx","push","onClick","handleRestaurantClick","children","rname","fileName","_jsxFileName","lineNumber","columnNumber","food","city","city_gu","city_dong","restaurant","url","id","fetch","then","resp","json","data","catch","err","console","log","closeModal","className","info","border","pagination","pageLink","Array","from","_","i","number","active","isOpen","onClose","_c","$RefreshReg$"],"sources":["C:/MiniProject/project_front/my_mini_project/src/project/Search_RestaurantLists/SearchList.js"],"sourcesContent":["import { useState } from 'react';\r\nimport style from '../Food.module.css';\r\nimport FoodInfo from './FoodInfo';\r\n\r\nconst SearchList = ({ searchRes }) => {\r\n    const itemsPerPage = 10;\r\n    const pagesPerGroup = 5; // 한 그룹에 보여줄 페이지 수\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [selectedRestaurant, setSelectedRestaurant] = useState(null);\r\n    const [rvLists, setRvLists] = useState([]);\r\n\r\n    const totalItems = searchRes.length;\r\n    const totalGroups = Math.ceil(totalItems / (itemsPerPage * pagesPerGroup));\r\n    const currentGroup = Math.ceil(currentPage / pagesPerGroup);\r\n\r\n    const startPage = (currentGroup - 1) * pagesPerGroup + 1;\r\n    const endPage = Math.min(startPage + pagesPerGroup - 1, totalGroups * pagesPerGroup);\r\n\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n    const currentItems = searchRes.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n    const paginate = (pageNumber) => {\r\n        setCurrentPage(pageNumber);\r\n    };\r\n\r\n    let foodTags = [];\r\n    currentItems.map((result, idx) => {\r\n        foodTags.push(\r\n            <tr key={idx} onClick={() => handleRestaurantClick(result)}>\r\n                <td>{result.rname}</td>\r\n                <td>{result.food}</td>\r\n                <td>{result.city + ' ' + result.city_gu + ' ' + result.city_dong}</td>\r\n            </tr>\r\n        );\r\n    });\r\n\r\n    const handleRestaurantClick = (restaurant) => {\r\n        setSelectedRestaurant(restaurant);\r\n        let url = 'http://10.125.121.176:8080/getReviewList/';\r\n        url = url + restaurant.id;\r\n\r\n        fetch(url)\r\n            .then((resp) => resp.json())\r\n            .then((data) => setRvLists(data))\r\n            .catch((err) => console.log(err));\r\n\r\n        setShowModal(true);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setShowModal(false);\r\n    };\r\n\r\n    return (\r\n        <div className={`${style.info}`}>\r\n            {currentItems.length === 0 ? <div> 검색 결과가 없습니다.</div> :\r\n                <table border='1px solid'>\r\n                    <th>Restaurant</th>\r\n                    <th>Food</th>\r\n                    <th>Address</th>\r\n                    {foodTags}\r\n                </table>\r\n            }\r\n            {searchRes.length > itemsPerPage && (\r\n                <div className={`${style.pagination}`}>\r\n                    {startPage > 1 && (\r\n                        <>\r\n                            <button onClick={() => paginate(1)} className={`${style.pageLink}`}>처음</button>\r\n                            <button onClick={() => paginate(startPage - 1)} className={`${style.pageLink}`}>이전</button>\r\n                        </>\r\n                    )}\r\n                    {Array.from({ length: endPage - startPage + 1 }, (_, i) => i + startPage).map((number) => (\r\n                        <button\r\n                            key={number}\r\n                            onClick={() => paginate(number)}\r\n                            className={`${style.pageLink} ${currentPage === number ? style.active : ''}`}\r\n                        >\r\n                            {number}\r\n                        </button>\r\n                    ))}\r\n                    {endPage < totalGroups * pagesPerGroup && (\r\n                        <>\r\n                            <button onClick={() => paginate(endPage + 1)} className={`${style.pageLink}`}>다음</button>\r\n                            <button onClick={() => paginate(totalGroups * pagesPerGroup)} className={`${style.pageLink}`}>끝</button>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n            <FoodInfo isOpen={showModal} onClose={closeModal} restaurant={selectedRestaurant} rvLists={rvLists} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}